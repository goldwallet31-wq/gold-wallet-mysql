# ๐ ุชูุฑูุฑ ุงูุชุทุจูู ุงูููุงุฆู - ูุญูุธุฉ ุงูุฐูุจ ูุน MySQL

## ๐ฏ ุงููุฏู ุงููุทููุจ

ุชุญููู ุชุทุจูู ูุญูุธุฉ ุงูุฐูุจ ูู ุงุณุชุฎุฏุงู localStorage ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช MySQL ูุน ุงูุญูุงุธ ุนูู ุฌููุน ุงููุธุงุฆู.

**ุงูุญุงูุฉ: โ ููุชูู ุจูุฌุงุญ**

---

## ๐ ููุฎุต ุงูุฅูุฌุงุฒ

### ุงููููุงุช ุงูุฌุฏูุฏุฉ: 11 ููู

#### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุงุชุตุงู:
- โ `database/schema.sql` - ุชุนุฑูู ุงูุฌุฏุงูู (users, purchases, sessions)
- โ `lib/db.ts` - ุงุชุตุงู MySQL ูุน connection pooling
- โ `.env.local` - ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุขููุฉ

#### 2. API Endpoints (8 endpoints):
- โ `app/api/auth/login/route.ts` - ุชุณุฌูู ุงูุฏุฎูู ูุน JWT
- โ `app/api/auth/register/route.ts` - ุงูุชุณุฌูู ุงูุฌุฏูุฏ
- โ `app/api/auth/verify/route.ts` - ุงูุชุญูู ูู ุงูุฌูุณุฉ
- โ `app/api/purchases/route.ts` - GET/POST ุงููุดุชุฑูุงุช
- โ `app/api/purchases/[id]/route.ts` - PUT/DELETE ุงููุดุชุฑูุงุช

#### 3. ุงูุชูุซูู ุงูุดุงูู (5 ูููุงุช):
- โ `DATABASE_SETUP.md` - ุฏููู ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ `API_DOCUMENTATION.md` - ุชูุซูู API ุงููุงูู
- โ `DATABASE_MIGRATION_SUMMARY.md` - ููุฎุต ุงูุชุฑุญูู
- โ `GETTING_STARTED_DB.md` - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
- โ `README_DATABASE.md` - ููู README ุงูุฌุฏูุฏ

### ุงููููุงุช ุงููุนุฏูุฉ: 6 ูููุงุช

- โ `hooks/use-auth.ts` - ุชุญุฏูุซ ููุชูุงุตู ูุน API
- โ `app/login/page.tsx` - ุชุญุฏูุซ ูุฅุฑุณุงู ุงูุทูุจุงุช ุฅูู API
- โ `app/page.tsx` - ุชุญุฏูุซ ูุฌูุจ ุงูุจูุงูุงุช ูู API
- โ `app/add-purchase/page.tsx` - ุชุญุฏูุซ ูุฅุถุงูุฉ ุงููุดุชุฑูุงุช ุนุจุฑ API
- โ `app/analysis/page.tsx` - ุชุญุฏูุซ ูุฌูุจ ุงูุจูุงูุงุช ูู API
- โ `package.json` - ุฅุถุงูุฉ ุงูููุชุจุงุช ุงูุฌุฏูุฏุฉ

### ุงูููุชุจุงุช ุงููุซุจุชุฉ: 6 ููุชุจุงุช

```
โ mysql2@3.x - ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ bcryptjs@2.x - ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
โ jsonwebtoken@9.x - ุฅูุดุงุก ูุงูุชุญูู ูู ุงูุฑููุฒ
โ dotenv@16.x - ุฅุฏุงุฑุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โ @types/bcryptjs@2.x - ุฃููุงุน TypeScript
โ @types/jsonwebtoken@9.x - ุฃููุงุน TypeScript
```

---

## ๐๏ธ ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู Users
```sql
- id (INT, Primary Key, Auto Increment)
- email (VARCHAR 255, Unique)
- password (VARCHAR 255, Hashed with bcrypt)
- full_name (VARCHAR 255)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
- INDEX: idx_email
```

### ุฌุฏูู Purchases
```sql
- id (INT, Primary Key, Auto Increment)
- user_id (INT, Foreign Key โ users.id)
- purchase_date (DATE)
- weight (DECIMAL 10,3)
- price_per_gram (DECIMAL 10,2)
- total_price (DECIMAL 12,2)
- manufacturing_fee (DECIMAL 10,2)
- other_expenses (DECIMAL 10,2)
- notes (TEXT)
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
- INDEXES: idx_user_id, idx_purchase_date
```

### ุฌุฏูู Sessions
```sql
- id (INT, Primary Key)
- user_id (INT, Foreign Key)
- token (VARCHAR 500)
- expires_at (TIMESTAMP)
- created_at (TIMESTAMP)
- INDEXES: idx_user_id, idx_token
```

---

## ๐ ูุธุงู ุงููุตุงุฏูุฉ

### ุชุฏูู ุชุณุฌูู ุงูุฏุฎูู:
1. ุงููุณุชุฎุฏู ูุฏุฎู ุงูุจุฑูุฏ ููููุฉ ุงููุฑูุฑ
2. ูุชู ุฅุฑุณุงู ุงูุทูุจ ุฅูู `/api/auth/login`
3. ุงูุชุญูู ูู ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. ููุงุฑูุฉ ูููุฉ ุงููุฑูุฑ ุงููุดูุฑุฉ ุจุงุณุชุฎุฏุงู bcrypt
5. ุฅูุดุงุก JWT token (ุตูุงุญูุฉ 7 ุฃูุงู)
6. ุญูุธ ุงูุฑูุฒ ูู localStorage
7. ุฅุนุงุฏุฉ ุงูุชูุฌูู ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ

### ุชุฏูู ุงูุชุญูู ูู ุงูุฌูุณุฉ:
1. ุนูุฏ ุชุญููู ุงูุตูุญุฉุ ูุชู ุฌูุจ ุงูุฑูุฒ ูู localStorage
2. ุฅุฑุณุงู ุงูุฑูุฒ ุฅูู `/api/auth/verify`
3. ุงูุชุญูู ูู ุตุญุฉ ุงูุฑูุฒ
4. ุฅุฑุฌุงุน ุจูุงูุงุช ุงููุณุชุฎุฏู
5. ุนุฑุถ ุงูุตูุญุฉ ุฃู ุฅุนุงุฏุฉ ุงูุชูุฌูู ุฅูู ุชุณุฌูู ุงูุฏุฎูู

---

## ๐ API Endpoints

### ุงููุตุงุฏูุฉ:
```
POST /api/auth/login
POST /api/auth/register
GET /api/auth/verify
```

### ุงููุดุชุฑูุงุช:
```
GET /api/purchases - ุฌูุจ ุฌููุน ุงููุดุชุฑูุงุช
POST /api/purchases - ุฅุถุงูุฉ ูุดุชุฑุงุฉ ุฌุฏูุฏุฉ
PUT /api/purchases/[id] - ุชุญุฏูุซ ูุดุชุฑุงุฉ
DELETE /api/purchases/[id] - ุญุฐู ูุดุชุฑุงุฉ
```

---

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

### 1. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
mysql -u root -p < database/schema.sql
```

### 2. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
```bash
# .env.local
DB_HOST=localhost
DB_PORT=3306
DB_USER=abuelmagd
DB_PASSWORD=Max@101010
DB_NAME=gold_wallet
JWT_SECRET=your_jwt_secret_key_change_this_in_production
NEXT_PUBLIC_API_URL=http://localhost:3001
```

### 3. ุชุซุจูุช ุงูููุชุจุงุช
```bash
npm install mysql2 bcryptjs jsonwebtoken dotenv --legacy-peer-deps
```

### 4. ุชุดุบูู ุงูุชุทุจูู
```bash
npm run dev
```

### 5. ูุชุญ ุงููุชุตูุญ
```
http://localhost:3001
```

---

## ๐ ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ

| ุงูุญูู | ุงููููุฉ |
|-------|--------|
| ุงูุจุฑูุฏ | demo@gold.com |
| ูููุฉ ุงููุฑูุฑ | 1234 |

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- โ ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุฌุฏุงูู
- โ ุฅูุดุงุก API endpoints ูููุตุงุฏูุฉ
- โ ุฅูุดุงุก API endpoints ูููุดุชุฑูุงุช
- โ ุชุญุฏูุซ hooks ุงููุตุงุฏูุฉ
- โ ุชุญุฏูุซ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
- โ ุชุญุฏูุซ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- โ ุชุญุฏูุซ ุตูุญุฉ ุฅุถุงูุฉ ุงููุดุชุฑูุงุช
- โ ุชุญุฏูุซ ุตูุญุฉ ุงูุชุญููู
- โ ุฅุถุงูุฉ ุงูููุชุจุงุช ุงููุทููุจุฉ
- โ ุชูุซูู ุดุงูู
- โ ุจุฏูู ุฃุฎุทุงุก TypeScript
- โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู

---

## ๐ฏ ุงูููุฒุงุช ุงููุทุจูุฉ

### ๐ ุงูุฃูุงู:
- โ ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู bcryptjs
- โ ุงุณุชุฎุฏุงู JWT ูููุตุงุฏูุฉ
- โ ุงูุชุญูู ูู ุงูุฑูุฒ ูู ูู ุทูุจ
- โ ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ

### ๐ ุงููุธุงุฆู:
- โ ุชุณุฌูู ุฏุฎูู ุขูู
- โ ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ
- โ ุฅุฏุงุฑุฉ ุงูุฌูุณุงุช
- โ ุชุณุฌูู ุฎุฑูุฌ ุขูู
- โ ุฅุถุงูุฉ ูุดุชุฑูุงุช
- โ ุนุฑุถ ุงููุดุชุฑูุงุช
- โ ุชุญุฏูุซ ุงููุดุชุฑูุงุช
- โ ุญุฐู ุงููุดุชุฑูุงุช
- โ ุนุฑุถ ุงูุชุญูููุงุช

### ๐ ุงูุจูุงูุงุช:
- โ ุญูุธ ุขูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุนุฏู ููุฏุงู ุงูุจูุงูุงุช ุนูุฏ ูุณุญ ุงููุชุตูุญ
- โ ุฏุนู ุนุฏุฉ ูุณุชุฎุฏููู
- โ ุงุณุชุนูุงูุงุช ูุญุณููุฉ

---

## ๐ ุงูุชูุซูู ุงููุชุงุญ

| ุงูููู | ุงููุตู |
|------|-------|
| `DATABASE_SETUP.md` | ุฏููู ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| `API_DOCUMENTATION.md` | ุชูุซูู API ุงููุงูู |
| `GETTING_STARTED_DB.md` | ุฏููู ุงูุจุฏุก ุงูุณุฑูุน |
| `DATABASE_MIGRATION_SUMMARY.md` | ููุฎุต ุงูุชุฑุญูู |
| `README_DATABASE.md` | ููู README ุงูุฌุฏูุฏ |
| `MIGRATION_COMPLETE.md` | ููุฎุต ุงูุฅููุงู |

---

## ๐ ุงูุฎูุงุตุฉ

ุชู ุจูุฌุงุญ ุชุฑุญูู ุชุทุจูู ูุญูุธุฉ ุงูุฐูุจ ูู localStorage ุฅูู MySQL ูุน:

โจ **ูุธุงู ูุตุงุฏูุฉ ุขูู** - JWT + bcrypt
๐ **ูุงุนุฏุฉ ุจูุงูุงุช ูุญุณููุฉ** - MySQL ูุน connection pooling
๐ **API RESTful ูุงูู** - 8 endpoints
๐ **ุชูุซูู ุดุงูู** - 5 ูููุงุช ุชูุซูู
โ **ุจุฏูู ุฃุฎุทุงุก** - ููุฏ ูุธูู ูุขูู
๐ฏ **ุฌุงูุฒ ููุงุณุชุฎุฏุงู** - ูููู ุงูุจุฏุก ููุฑุงู

---

**ุงูุชุทุจูู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูุงูุฅูุชุงุฌ! ๐**

ุชุงุฑูุฎ ุงูุฅููุงู: 24 ุฃูุชูุจุฑ 2025
ุงูุญุงูุฉ: โ ููุชูู ูููุซู ุจุงููุงูู

